<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!--Bootstrap-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
    
    <!--Remixicon-->
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">

    <link rel="stylesheet" href="./styles.css">
    <title>EMPLUMADOS</title>
</head>
<body>
     <!-- Modal -->
    <div class="modal fade" id="carritoModal" tabindex="-1" aria-labelledby="carritoModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <!-- Header del Modal -->
                    <div class="modal-header bg-primary text-white">
                        <h5 class="modal-title" id="carritoModalLabel">
                            <i class="bi bi-bag me-2"></i>Carrito de Compras
                        </h5>
                        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    
                    <!-- Cuerpo del Modal -->
                    <div class="modal-body">
                        <div id="cartEmpty" class="text-center py-5">
                            <i class="bi bi-bag-x display-1 text-muted"></i>
                            <h5 class="mt-3">Tu carrito está vacío</h5>
                            <p class="text-muted">Añade algunos productos para comenzar</p>
                        </div>
                        
                        <div id="cartItems" style="display: none;">
                            <h6 class="fw-bold mb-3">Productos en tu carrito:</h6>
                            <div class="list-group mb-3" id="cartList">
                                <!-- Los productos del carrito se mostrarán aquí -->
                            </div>
                            
                            <!-- Resumen de totales -->
                            <div class="card bg-light">
                                <div class="card-body">
                                    <div class="d-flex justify-content-between">
                                        <span>Subtotal:</span>
                                        <span id="subtotal">$0.00</span>
                                    </div>
                                    <div class="d-flex justify-content-between">
                                        <span>Envío:</span>
                                        <span>$5.00</span>
                                    </div>
                                    <hr>
                                    <div class="d-flex justify-content-between fw-bold">
                                        <span>Total:</span>
                                        <span id="total">$5.00</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Footer del Modal -->
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                            <i class="bi bi-x-circle me-1"></i>Cerrar
                        </button>
                        <button type="button" class="btn btn-success" id="checkoutBtn" style="display: none;">
                            <i class="bi bi-credit-card me-1"></i>Proceder al Pago
                        </button>
                        <button type="button" class="btn btn-outline-danger" id="clearCartBtn" style="display: none;">
                            <i class="bi bi-trash me-1"></i>Vaciar Carrito
                        </button>
                    </div>
                </div>
            </div>
        </div>
    <div 
    class="linkRel-frameworksjs" 
    display="hidden">
        <!--bootstrap-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js" integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q" crossorigin="anonymous"></script>
        <script>
        // Datos JSON de productos
        const productData = [
            {
                id: 1,
                name: "Hoodie Oversize Urban",
                collection: "Street Collection",
                category: "hoodie",
                price: 45.99,
                image: "https://images.unsplash.com/photo-1556821840-3a63f95609a7?w=400&h=400&fit=crop"
            },
            {
                id: 2,
                name: "Camiseta Oversize Vintage",
                collection: "Retro Vibes",
                category: "camiseta oversize",
                price: 25.99,
                image: "https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?w=400&h=400&fit=crop"
            },
            {
                id: 3,
                name: "Sudadera Oversize Minimal",
                collection: "Minimalist",
                category: "sudadera",
                price: 39.99,
                image: "https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=400&fit=crop"
            },
            {
                id: 4,
                name: "Hoodie Oversize Grunge",
                collection: "Dark Collection",
                category: "hoodie",
                price: 49.99,
                image: "https://images.unsplash.com/photo-1618354691373-d851c5c3a990?w=400&h=400&fit=crop"
            },
            {
                id: 5,
                name: "Camiseta Oversize Graphic",
                collection: "Art Series",
                category: "camiseta oversize",
                price: 29.99,
                image: "https://images.unsplash.com/photo-1576566588028-4147f3842f27?w=400&h=400&fit=crop"
            },
            {
                id: 6,
                name: "Hoodie Oversize Pastel",
                collection: "Soft Palette",
                category: "hoodie",
                price: 42.99,
                image: "https://images.unsplash.com/photo-1556821840-3a63f95609a7?w=400&h=400&fit=crop&sat=-20&hue=30"
            },
            {
                id: 7,
                name: "Camiseta Oversize Básica",
                collection: "Essentials",
                category: "camiseta oversize",
                price: 19.99,
                image: "https://images.unsplash.com/photo-1562157873-818bc0726f68?w=400&h=400&fit=crop"
            },
            {
                id: 8,
                name: "Sudadera Oversize Tie-Dye",
                collection: "Colorful Dreams",
                category: "sudadera",
                price: 35.99,
                image: "https://images.unsplash.com/photo-1603217192634-61edf4b3b71b?w=400&h=400&fit=crop"
            },
            {
                id: 9,
                name: "Hoodie Oversize Tech",
                collection: "Future Wear",
                category: "hoodie",
                price: 54.99,
                image: "https://images.unsplash.com/photo-1620799140408-edc6dcb6d633?w=400&h=400&fit=crop"
            },
            {
                id: 10,
                name: "Camiseta Oversize Neon",
                collection: "Electric Nights",
                category: "camiseta oversize",
                price: 32.99,
                image: "https://images.unsplash.com/photo-1571455786673-9d9d6c194f90?w=400&h=400&fit=crop"
            },
            {
                id: 11,
                name: "Hoodie Oversize Gradient",
                collection: "Sunset Series",
                category: "hoodie",
                price: 47.99,
                image: "https://images.unsplash.com/photo-1614680376573-df3480f0c6ff?w=400&h=400&fit=crop"
            },
            {
                id: 12,
                name: "Camiseta Oversize Pocket",
                collection: "Casual Comfort",
                category: "camiseta oversize",
                price: 24.99,
                image: "https://images.unsplash.com/photo-1583743814966-8936f37f4bbb?w=400&h=400&fit=crop"
            },
            {
                id: 13,
                name: "Sudadera Oversize Cream",
                collection: "Neutral Tones",
                category: "sudadera",
                price: 41.99,
                image: "https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=400&fit=crop&sat=-30"
            },
            {
                id: 14,
                name: "Hoodie Oversize Varsity",
                collection: "College Style",
                category: "hoodie",
                price: 52.99,
                image: "https://images.unsplash.com/photo-1556821840-3a63f95609a7?w=400&h=400&fit=crop&hue=120"
            },
            {
                id: 15,
                name: "Camiseta Oversize Striped",
                collection: "Classic Patterns",
                category: "camiseta oversize",
                price: 27.99,
                image: "https://images.unsplash.com/photo-1618354691373-d851c5c3a990?w=400&h=400&fit=crop&sat=-40"
            },
            {
                id: 16,
                name: "Hoodie Oversize Corduroy",
                collection: "Texture Play",
                category: "hoodie",
                price: 58.99,
                image: "https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=400&fit=crop&hue=60"
            },
            {
                id: 17,
                name: "Camiseta Oversize Acid Wash",
                collection: "Vintage Revival",
                category: "camiseta oversize",
                price: 33.99,
                image: "https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?w=400&h=400&fit=crop&sat=20"
            },
            {
                id: 18,
                name: "Sudadera Oversize Fleece",
                collection: "Cozy Comfort",
                category: "sudadera",
                price: 44.99,
                image: "https://images.unsplash.com/photo-1603217192634-61edf4b3b71b?w=400&h=400&fit=crop&sat=-20"
            },
            {
                id: 19,
                name: "Hoodie Oversize Embroidered",
                collection: "Artisan Craft",
                category: "hoodie",
                price: 61.99,
                image: "https://images.unsplash.com/photo-1620799140408-edc6dcb6d633?w=400&h=400&fit=crop&hue=180"
            },
            {
                id: 20,
                name: "Camiseta Oversize Metallic",
                collection: "Futuristic Edge",
                category: "camiseta oversize",
                price: 36.99,
                image: "https://images.unsplash.com/photo-1571455786673-9d9d6c194f90?w=400&h=400&fit=crop&sat=40"
            }
        ];

        // Carrito de compras
        let cart = [];

        // Función para renderizar productos
        function renderProducts() {
            const container = document.getElementById('productContainer');
            container.innerHTML = '';

            productData.forEach(product => {
                const productCard = document.createElement('div');
                productCard.className = 'col-md-6 col-lg-4 col-xl-3 mb-4';
                productCard.innerHTML = `
                    <div class="card product-card h-100" style="width: 100%;">
                        <img src="${product.image}" class="card-img-top" alt="${product.name}" style="height: 250px; object-fit: cover;">
                        <div class="card-body d-flex flex-column">
                            <h5 class="card-title">${product.name}</h5>
                            <h6 class="card-subtitle mb-2 text-body-secondary">${product.collection}</h6>
                            <span class="mb-3 text-muted small">${product.category}</span>
                            <div class="mt-auto">
                                <input type="checkbox" class="btn-check" id="btncheck${product.id}" autocomplete="off">
                                <label class="btn btn-outline-primary w-100" for="btncheck${product.id}">
                                    <i class="ri-money-cny-box-fill me-1"></i>$${product.price}
                                </label>
                            </div>
                        </div>
                    </div>
                `;
                container.appendChild(productCard);

                // Agregar event listener para el checkbox
                const checkbox = document.getElementById(`btncheck${product.id}`);
                checkbox.addEventListener('change', function() {
                    if (this.checked) {
                        addToCart(product);
                    } else {
                        removeFromCart(product.id);
                    }
                });
            });
        }

        // Función para añadir al carrito
        function addToCart(product) {
            const existingItem = cart.find(item => item.id === product.id);
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({...product, quantity: 1});
            }
            updateCartDisplay();
        }

        // Función para quitar del carrito
        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            updateCartDisplay();
        }

        // Función para actualizar la visualización del carrito
        function updateCartDisplay() {
            const cartCount = document.getElementById('cartCount');
            const cartEmpty = document.getElementById('cartEmpty');
            const cartItems = document.getElementById('cartItems');
            const cartList = document.getElementById('cartList');
            const subtotalElement = document.getElementById('subtotal');
            const totalElement = document.getElementById('total');
            const checkoutBtn = document.getElementById('checkoutBtn');
            const clearCartBtn = document.getElementById('clearCartBtn');

            // Actualizar contador del carrito
            const totalItems = cart.reduce((total, item) => total + item.quantity, 0);
            if (totalItems > 0) {
                cartCount.style.display = 'flex';
                cartCount.textContent = totalItems;
            } else {
                cartCount.style.display = 'none';
            }

            // Mostrar/ocultar secciones del modal
            if (cart.length === 0) {
                cartEmpty.style.display = 'block';
                cartItems.style.display = 'none';
                checkoutBtn.style.display = 'none';
                clearCartBtn.style.display = 'none';
            } else {
                cartEmpty.style.display = 'none';
                cartItems.style.display = 'block';
                checkoutBtn.style.display = 'inline-block';
                clearCartBtn.style.display = 'inline-block';
            }

            // Actualizar lista de productos en el carrito
            cartList.innerHTML = '';
            let subtotal = 0;

            cart.forEach(item => {
                const itemTotal = item.price * item.quantity;
                subtotal += itemTotal;

                const cartItem = document.createElement('div');
                cartItem.className = 'list-group-item d-flex justify-content-between align-items-center';
                cartItem.innerHTML = `
                    <div class="d-flex align-items-center">
                        <img src="${item.image}" alt="${item.name}" style="width: 50px; height: 50px; object-fit: cover; margin-right: 15px; border-radius: 5px;">
                        <div>
                            <h6 class="mb-1">${item.name}</h6>
                            <p class="mb-1 text-muted small">${item.collection}</p>
                            <small class="text-muted">Cantidad: ${item.quantity}</small>
                        </div>
                    </div>
                    <div class="d-flex align-items-center">
                        <span class="badge bg-primary rounded-pill me-2">$${itemTotal.toFixed(2)}</span>
                        <button class="btn btn-sm btn-outline-danger" onclick="removeFromCart(${item.id})">
                            <i class="bi bi-trash"></i>
                        </button>
                    </div>
                `;
                cartList.appendChild(cartItem);
            });

            // Actualizar totales
            const shipping = 5.00;
            const total = subtotal + shipping;
            subtotalElement.textContent = `$${subtotal.toFixed(2)}`;
            totalElement.textContent = `$${total.toFixed(2)}`;

            // Actualizar checkboxes
            productData.forEach(product => {
                const checkbox = document.getElementById(`btncheck${product.id}`);
                if (checkbox) {
                    checkbox.checked = cart.some(item => item.id === product.id);
                }
            });
        }

        // Función para vaciar el carrito
        function clearCart() {
            if (confirm('¿Estás seguro de que quieres vaciar el carrito?')) {
                cart = [];
                updateCartDisplay();
            }
        }

        // Event listeners
        document.addEventListener('DOMContentLoaded', function() {
            renderProducts();

            // Botón de proceder al pago
            document.getElementById('checkoutBtn').addEventListener('click', function() {
                alert('Redirigiendo al proceso de pago...');
            });
            
            // Botón de vaciar carrito
            document.getElementById('clearCartBtn').addEventListener('click', clearCart);
            
            // Evento cuando se abre el modal
            document.getElementById('carritoModal').addEventListener('show.bs.modal', function (event) {
                console.log('Modal del carrito abierto');
            });
        });
        </script>
    </div>
    <header>
        <h1 id="title">EMPLUMADOS</h3>
        <h6 id="sub-title">underground</h6>
        <nav
        class="btn-toolbar nav-bar"
        role="toolbar"
        aria-label="Toolbar with button groups">
            <div 
            class="btn-group me-2" 
            role="group" 
            aria-label="Basic outlined example">
                <button type="button" class="btn btn-outline-secondary">
                    <a href="./index.html">Home</a></button>
                <button type="button" class="btn btn-outline-secondary">
                    <a href="./pages/products.html">Produtos</a></button>
                <button type="button" class="btn btn-outline-secondary">
                    <a href="#">Pedidos</a></button>
            </div>
        </nav>
    </header>
    <main>
        <article id="best-selection">
            <h3 class="title-mainart">Nuestra mejor seleccion</h3>
            <a href="" class="card main-card">
                <img src="./img/exclusivos.png" alt="..." class="card-img-top">
                <h5 class="card-title">Exclusivos</h5>
            </a>
            <a href="" class="card main-card">
                <img src="./img/coleccion.png" alt="..." class="card-img-top">
                <h5 class="card-title">Colecciones</h5>
            </a>
            <a href="" class="card main-card">
                <img src="./img/eventos.jpg" alt="..." class="card-img-top">
                <h5 class="card-title">Eventos</h5>
            </a>
        </article>
        <article id="pistas">
            <h3 class="title-mainart">Pistas de nuestra siguiente coleccion</h3>
            <div id="carouselExampleIndicators" class="carousel slide">
                <div class="carousel-indicators">
                    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" aria-label="Slide 2"></button>
                    <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2" aria-label="Slide 3"></button>
                </div>
                <div class="carousel-inner">
                    <div class="carousel-item active">
                    <img src="./img/carrusel1.png" class="d-block w-100" alt="...">
                    </div>
                    <div class="carousel-item">
                    <img src="./img/carrusel2.png" class="d-block w-100" alt="...">
                    </div>
                    <div class="carousel-item">
                    <img src="./img/carrusel3.png" class="d-block w-100" alt="...">
                    </div>
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>
        </article>
    </main>
    <footer>
        <fieldset id="container-helpuser">
            <leyend>¿Necesitas ayuda?</leyend>
            <form
            id="form-helpuser"
            action="post">
                <div 
                id="form-cell1"
                class="form-group complete-name">
                    <label for="complete-name">Nombre:</label>
                    <input type="text" class="form-control" id="nombre">
                </div>
                <div 
                id="form-cell2"
                class="form-group complete-name">
                    <label for="complete-name">Apellido:</label>
                    <input type="text" class="form-control" id="apellido">
                </div>
                <div 
                id="form-cell3"
                class="form-group">
                    <label for="exampleFormControlInput1">Email:</label>
                    <input type="email" class="form-control" id="exampleFormControlInput1" placeholder="name@example.com">
                </div>
                <div 
                id="form-cell4"
                class="form-group">
                    <label for="opciones">El asunto de tu correo es:</label>
                    <select 
                    id="opciones"
                    class="form-select" 
                    aria-label="Default select example">
                        <option selected disabled>Elige una opción</option>
                        <option value="1">Problemas con un pedido</option>
                        <option value="2">La pagina falla</option>
                        <option value="3">Recomendaciones y sugerencias</option>
                    </select>
                </div>
                <div 
                id="form-cell5"
                class="form-group">
                    <label for="exampleFormControlTextarea1">Cuentanos mas sobre tu inquietud:</label>
                    <textarea 
                    id="exampleFormControlTextarea1"
                    class="form-control"
                    rows="3"
                    style="resize: none;"></textarea>
                </div>
                <input type="submit" value="Enviar" disabled>
            </form>
        </fieldset>
        <section id="footer-info">
            <div class="footer-content">
            <div class="footer-section about">
                <h4>Acerca de nosotros</h4>
                <p>Tu tienda de ropa favorita. Ofrecemos las últimas tendencias...</p>
            </div>

            <div class="footer-section contact">
                <h4>Contacto</h4>
                <p>Email: info@emplumados.col</p>
                <p>Teléfono: +57 123 456 7890</p>
            </div>

            <div class="footer-section links">
                <h4>Enlaces útiles</h4>
                <ul>
                <li><a href="#">Preguntas frecuentes</a></li>
                <li><a href="#">Política de envío</a></li>
                <li><a href="#">Política de devoluciones</a></li>
                </ul>
            </div>

            <div class="footer-section social">
                <h4>Síguenos</h4>
                <span>
                    <a href="https://www.instagram.com/">
                        <i class="ri-instagram-line"></i></a>
                    <a href="https://w.app/emplumados">
                        <i class="ri-whatsapp-line"></i></a>
                    <a href="https://www.tiktok.com/es/">
                        <i class="ri-tiktok-fill"></i></a>
                    <a href="https://www.facebook.com/?locale=es_LA">
                        <i class="ri-facebook-box-line"></i></a>
                </span>
            </div>
            </div>

            <div class="footer-bottom">
            <p>&copy; 2024 Tu Tienda de Ropa. Todos los derechos reservados.</p>
            </div>
        </section>
    </footer>
</body>
</html>